<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Test of bencode-js &ndash; encoding</title>
    <script type="text/javascript" src="/test/mootools.js"></script>
    <script type="text/javascript" src="/lib/bencode.js"></script>
    <script type="text/javascript">
      function assertEncodesAs(id, expected, obj) {
        var actual = Bencode.encode(obj);
        var result = actual == expected ? "passed" : "failed";

        var row = new Element('tr');
        var heading = new Element('td');
        var value = new Element('td');

        heading.set('text', id);
        value.set('text', result);

        heading.inject(row);
        value.inject(row);

        row.inject($('testResults'));
      }

      window.addEvent('domready', function() {
          assertEncodesAs("integers", "i42e", 42);
      });
    </script>
  </head>
  <body>
    <table id="testResults">
    </table>
  </body>
</html>
